# N8N Docker
```
image: n8nio/n8n:1.70.1
port: main TCP 5678 5678
```

```dotenv

N8N_DEFAULT_PERMISSIONS="all"
N8N_CORS_ALLOW_HEADERS="*"
N8N_CORS_ALLOW_METHODS="GET,POST,OPTIONS,PUT,DELETE,HEAD"
NODE_FUNCTION_ALLOW_EXTERNAL="moment-jalaali,ejs,axios"
N8N_CORS_ALLOW_ORIGIN="*"
N8N_TELEGRAM_API_URL=""
NODE_OPTIONS="--max-old-space-size=4096"
N8N_ENCRYPTION_KEY=""
DB_POSTGRESDB_DATABASE="n8n_database"
DB_POSTGRESDB_HOST=""
DB_POSTGRESDB_PASSWORD=""
DB_POSTGRESDB_PORT="5432"
DB_POSTGRESDB_SCHEMA="public"
DB_POSTGRESDB_USER="root"
DB_TYPE="postgresdb"
GENERIC_TIMEZONE="Asia/Tehran"
N8N_PORT="5678"
N8N_METRICS="true"
EXECUTIONS_DATA_SAVE_ON_ERROR="all"
EXECUTIONS_DATA_SAVE_ON_SUCCESS="none"
EXECUTIONS_DATA_SAVE_ON_PROGRESS="false"
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS="true"
N8N_METRICS_INCLUDE_CACHE_METRICS="true"
N8N_METRICS_INCLUDE_MESSAGE_EVENT_BUS_METRICS="true"
N8N_METRICS_INCLUDE_WORKFLOW_ID_LABEL="true"
N8N_METRICS_INCLUDE_NODE_TYPE_LABEL="true"
N8N_METRICS_INCLUDE_API_ENDPOINTS="true"
N8N_METRICS_INCLUDE_API_PATH_LABEL="true"
N8N_METRICS_INCLUDE_API_METHOD_LABEL="true"
N8N_METRICS_INCLUDE_API_STATUS_CODE_LABEL="true"

N8N_EDITOR_BASE_URL="https://yourdomain.com"
WEBHOOK_URL="https://yourdomain.com"

```



# POSTGRES
```
image: postgres:16-bullseye
port: main TCP 5432 5432
```

```dotenv

POSTGRES_USER="root"
POSTGRES_PASSWORD=""
POSTGRES_DB="n8n_database"
PGDATA="/data/postgres"
```



